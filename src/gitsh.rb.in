$LOAD_PATH.unshift('@rubylibdir@')

require '@gemsetuppath@'
require 'gitsh/cli'
require 'gitsh/registry'

begin
  Gitsh::Registry.populate(conf_dir: '@pkgsysconfdir@')
  Gitsh::CLI.new(ARGV).run
rescue => e
  $stderr.puts "gitsh: Error: #{e.message}"
  exit 1
end
